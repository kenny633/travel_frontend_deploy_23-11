(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{2946:(t,e,s)=>{Promise.resolve().then(s.bind(s,4684))},4684:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var l=s(7437),a=s(2265);let i=()=>{let[t,e]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[n,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{i(!0),r(null);try{let t=await fetch("http://localhost:3001/posts");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();console.log("Fetched data:",s),e(s||[])}catch(t){console.error("Failed to fetch posts:",t),r("Failed to fetch posts: "+t.message)}finally{i(!1)}})()},[]),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Posts"}),s?(0,l.jsx)("p",{children:"Loading..."}):n?(0,l.jsx)("p",{children:n}):0===t.length?(0,l.jsx)("p",{children:"沒有上傳的內容."}):t.map(t=>(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:t.title||"Untitled"}),t.img_path&&(0,l.jsx)("img",{src:t.img_path,alt:t.title||"Post image",style:{maxWidth:"100%"}}),(0,l.jsx)("p",{children:t.content||"No content available."})]},t._id))]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[130,215,744],()=>e(2946)),_N_E=t.O()}]);